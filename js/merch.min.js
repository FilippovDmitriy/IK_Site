let navigation=document.querySelector(".navigation"),footerSocialNetwork=document.querySelector(".footer__socialNetwork"),footerBy=document.querySelector(".footer__by"),popupContainer=document.querySelectorAll(".popup__container"),span=document.createElement("span"),sup=document.createElement("sup");span.append(sup);let products=[];movingNavigation(),window.innerWidth<=1024&&popupContainer.forEach(e=>{e.prepend(e.querySelector(".popup__close"))}),window.innerWidth<=600&&(navigation.classList.add("swiper-container"),document.querySelector(".navigation ul").classList.add("swiper-wrapper"),document.querySelectorAll(".navigation ul li").forEach((function(e){e.classList.add("swiper-slide")})),new Swiper(".swiper-container",{observer:!0,observeParents:!0,observeSlideChildren:!0,breakpoints:{500:{initialSlide:0,slidesPerView:4},400:{initialSlide:0,slidesPerView:3.2},300:{spaceBetween:15,initialSlide:0,slidesPerView:2.8}}})),document.querySelector(".navigation ul").append(document.querySelector(".navigation ul li").cloneNode(!0));let n=0;function movingNavigation(){window.innerWidth<=1024?footerSocialNetwork.before(navigation):footerBy.before(navigation)}document.querySelectorAll(".navigation ul li a").forEach((function(e){"Мерч"==e.textContent&&e.classList.add("active"),"О группе"==e.textContent&&(n++,2==n&&(e.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".basket").classList.add("active")}),e.textContent="Корзина",e.append(span)))})),document.querySelectorAll(".merch__item").forEach(e=>{e.addEventListener("click",()=>{e.nextElementSibling.classList.add("active")})}),document.querySelectorAll(".popup__area").forEach(e=>{e.addEventListener("click",()=>{e.parentNode.classList.remove("active")})}),document.querySelectorAll(".basket__area").forEach(e=>{e.addEventListener("click",()=>{e.parentNode.classList.remove("active")})}),document.querySelectorAll(".popup__close").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".popup").forEach(e=>{e.classList.remove("active")})})}),document.querySelectorAll(".basket__close").forEach(e=>{e.addEventListener("click",()=>{document.querySelector(".basket").classList.remove("active")})}),document.querySelectorAll(".popup__basket").forEach(e=>{e.addEventListener("click",()=>{let t=e.parentNode.querySelector(".popup__count input").value*e.parentNode.parentNode.parentNode.parentNode.querySelector(".popup__price").textContent.replace(/ +/g,"").trim().replace(/₸+/g,"").trim();products.push({image:e.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector(".popup__image img").getAttribute("src"),title:e.parentNode.parentNode.parentNode.parentNode.querySelector(".popup__title").textContent,count:e.parentNode.querySelector(".popup__count input").value+" шт.",price:e.parentNode.parentNode.parentNode.parentNode.querySelector(".popup__price").textContent,cost:t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" ₸"}),""==sup.textContent&&(sup.textContent="0"),sup.textContent=Number.parseInt(sup.textContent)+1;for(let e=0;e<products.length;e++)document.querySelector(".basket__products").append(document.querySelectorAll(".basket__product")[0].cloneNode(!0)),document.querySelectorAll(".basket__product")[e+1].classList.remove("disactive"),null==document.querySelectorAll(".basket__product")[e+1].querySelector(".basket__image img")&&(document.querySelectorAll(".basket__product")[e+1].querySelector(".basket__image").append(document.createElement("img")),document.querySelectorAll(".basket__product")[e+1].querySelector(".basket__image img").setAttribute("src",products[e].image)),document.querySelectorAll(".basket__product")[e+1].querySelector(".basket__name").textContent=products[e].title,document.querySelectorAll(".basket__product")[e+1].querySelector(".basket__count").textContent=products[e].count,document.querySelectorAll(".basket__product")[e+1].querySelector(".basket__price").textContent=products[e].price,document.querySelectorAll(".basket__product")[e+1].querySelector(".basket__cost").textContent=products[e].cost;let r=0;products.forEach(e=>{r+=Number.parseInt(e.cost.replace(/ +/g,"").trim().replace(/₸+/g,"").trim())}),document.querySelector(".basket__result span").textContent=r.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" ₸",document.querySelectorAll(".popup").forEach(e=>{e.classList.remove("active")})})}),document.querySelectorAll(".popup__minus").forEach(e=>{e.addEventListener("click",()=>{e.parentNode.querySelector(".popup__number input").value>1&&e.parentNode.querySelector(".popup__number input").value--})}),document.querySelectorAll(".popup__plus").forEach(e=>{e.addEventListener("click",()=>{e.parentNode.querySelector(".popup__number input").value<10&&e.parentNode.querySelector(".popup__number input").value++})}),document.querySelectorAll(".popup__sizes input").forEach(e=>{e.checked&&e.parentNode.classList.add("active"),e.addEventListener("click",()=>{e.parentNode.parentNode.parentNode.querySelectorAll(".popup__sizes input").forEach(e=>{e.parentNode.classList.remove("active")}),e.checked&&e.parentNode.classList.add("active")})}),document.querySelector(".basket__start").addEventListener("click",()=>{0===products.length?alert("Корзина пуста"):(document.querySelector(".basket").classList.remove("active"),document.querySelector(".making").classList.add("active"))}),document.querySelector(".making__area").addEventListener("click",()=>{document.querySelector(".making").classList.remove("active")}),document.querySelector(".making__close").addEventListener("click",()=>{document.querySelector(".making").classList.remove("active")}),document.querySelector(".making__return").addEventListener("click",()=>{document.querySelector(".making").classList.remove("active"),document.querySelector(".basket").classList.add("active")}),document.querySelectorAll(".making__radio input").forEach(e=>{e.checked&&e.parentNode.classList.add("active"),e.parentNode.addEventListener("click",()=>{e.parentNode.parentNode.querySelectorAll("input").forEach(e=>{e.parentNode.classList.remove("active")}),e.checked&&e.parentNode.classList.add("active")})}),document.querySelector(".making__button").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".making").classList.remove("active"),document.querySelector(".decoration").classList.add("active")}),document.querySelector(".decoration__close").addEventListener("click",()=>{document.querySelector(".decoration").classList.remove("active")}),document.querySelector(".decoration__area").addEventListener("click",()=>{document.querySelector(".decoration").classList.remove("active")});